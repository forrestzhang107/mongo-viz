(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{41:function(e,t,n){e.exports=n(95)},47:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),u=n.n(c),l=(n(46),n(47),n(14)),s=n(10),i=n(1),o=n.n(i),p=n(3),f=n(4),m=n(96),b=n(15),h=n.n(b),d=n(60);function v(e){return E.apply(this,arguments)}function E(){return(E=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.post("/api/delete-document",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return j.apply(this,arguments)}function j(){return(j=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.post("/api/drop-collection",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.post("/api/create-collection",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return N.apply(this,arguments)}function N(){return(N=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/api/get-database-info");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return x.apply(this,arguments)}function x(){return(x=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/api/get-documents/"+JSON.stringify(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return C.apply(this,arguments)}function C(){return(C=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/api/get-document-count/"+JSON.stringify(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return I.apply(this,arguments)}function I(){return(I=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/api/get-database-id");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J={content:{top:"33%",left:"50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)"}};h.a.setAppElement("#root");var z=function(e){var t=Object(a.useState)(""),n=Object(f.a)(t,2),c=n[0],u=n[1],l=Object(a.useState)(null),s=Object(f.a)(l,2),i=s[0],b=s[1],d=Object(a.useState)(!1),v=Object(f.a)(d,2),E=v[0],j=v[1],g=Object(a.useState)(!1),N=Object(f.a)(g,2),k=N[0],x=N[1],S=Object(a.useState)(""),C=Object(f.a)(S,2),I=C[0],z=C[1],A=Object(a.useState)(""),L=Object(f.a)(A,2),q=L[0],M=L[1];return Object(a.useEffect)((function(){!function(){B.apply(this,arguments)}(),T()}),[]),r.a.createElement(m.a,null,r.a.createElement("h3",{className:"mb-25"},c),function(){if(i)return r.a.createElement("div",{className:"mb-15"},r.a.createElement("span",null,r.a.createElement("button",{onClick:function(){z(""),j(!0)}},"New Collection"),r.a.createElement(h.a,{isOpen:E,style:J},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){Q.apply(this,arguments)}()}},"New Collection:",r.a.createElement("input",{value:I,onChange:function(e){return z(e.target.value)},className:"modal-input",type:"text"}),r.a.createElement("button",{type:"submit"},"Submit"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),j(!1)}},"Cancel")))),r.a.createElement("span",null,r.a.createElement("button",{onClick:function(){M(""),x(!0)}},"Drop Collection"),r.a.createElement(h.a,{isOpen:k,style:J},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){Z.apply(this,arguments)}()}},"Drop Collection:",r.a.createElement("input",{value:q,onChange:function(e){return M(e.target.value)},className:"modal-input",type:"text"}),r.a.createElement("button",{type:"submit"},"Submit"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),x(!1)}},"Cancel")))))}(),function(){if(i)return r.a.createElement("table",{className:"db-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Collection"),r.a.createElement("th",null,"Count"),r.a.createElement("th",null,"Size"),r.a.createElement("th",null,"Average Size"))),r.a.createElement("tbody",null,i.map((function(t,n){return r.a.createElement("tr",{key:n,className:"collection",onClick:function(){return n=t.collectionID,void e.history.push("/collection/?id="+n);var n}},r.a.createElement("td",null,t.collectionID),r.a.createElement("td",null,t.count),r.a.createElement("td",null,t.size),r.a.createElement("td",null,t.avgObjSize))}))))}());function B(){return(B=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,D();case 3:return e.t1=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return W.apply(this,arguments)}function W(){return(W=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(null),e.t0=b,e.next=4,w();case 4:return e.t1=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(p.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({collectionID:I});case 2:t=e.sent,console.log(t.status),200===t.status&&(j(!1),T());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({collectionID:q});case 2:200===e.sent.status&&(x(!1),T());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},A=n(97),L=n(98),q=n(36),M=n.n(q);function B(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],u=n[1],l=e.object,s=Object.keys(l);return c?r.a.createElement("span",null,r.a.createElement("span",{className:"toggle",onClick:function(){return u(!1)}},"collapse"),r.a.createElement("div",{className:"fluid"},r.a.createElement("div",{className:"indent"},s.map((function(t,n){return r.a.createElement("span",{key:n},T(t,l[t],e.active))}))))):r.a.createElement("span",{onClick:function(){return u(!0)},className:"toggle"},"...")}function T(e,t,n){if(t!==Object(t)){var a=function(e){return null==e?"null":function(e){return!!e&&(24===e.length&&("T"===e.charAt(10)&&"Z"===e.charAt(23)))}(e)?"datetime":typeof e}(t);return"datetime"===a&&(t=M()(t).format("LL LTS")),r.a.createElement("div",{className:"hspread"},r.a.createElement("div",null,e,": ",r.a.createElement("span",{className:a},function(e){return null==e?"null":e.toString()}(t))),n?r.a.createElement("div",{className:"type"},a):"")}return r.a.createElement("div",null,e,": ",r.a.createElement(B,{object:t,active:n}))}var W=function(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],u=n[1],l=e.data,s=Object.keys(l);return r.a.createElement("div",{className:"document hspread",onMouseOver:function(){return u(!0)},onMouseLeave:function(){return u(!1)}},r.a.createElement("div",{className:"fluid"},s.map((function(e,t){return r.a.createElement("span",{key:t},T(e,l[e],c))}))),r.a.createElement("div",{className:"toolbar "+(c?"":"transparent")},r.a.createElement("i",{onClick:function(){return function(){return i.apply(this,arguments)}()},className:"fa fa-times","aria-hidden":"true"})));function i(){return(i=Object(p.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v({collectionID:e.collectionID,objectID:e.data._id});case 2:200===t.sent.status&&e.refresh();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},Q=n(37),Z=n.n(Q);var $=function(e){var t=Object(a.useState)(null),n=Object(f.a)(t,2),c=n[0],u=n[1],s=Object(a.useState)(null),i=Object(f.a)(s,2),b=i[0],h=i[1],d=Object(a.useState)(1),v=Object(f.a)(d,2),E=v[0],O=v[1],j=Object(a.useState)(null),y=Object(f.a)(j,2),g=y[0],w=y[1],N=Object(a.useState)(null),x=Object(f.a)(N,2),C=x[0],I=x[1],J=Object(a.useState)(""),z=Object(f.a)(J,2),q=z[0],M=z[1],B=Object(a.useState)("{}"),T=Object(f.a)(B,2),Q=T[0],$=T[1],_=Object(a.useState)(""),F=Object(f.a)(_,2),G=F[0],H=F[1],K=Object(a.useState)("{}"),P=Object(f.a)(K,2),R=P[0],U=P[1];return Object(a.useEffect)((function(){!function(){te.apply(this,arguments)}();var e=Z.a.parse(window.location.search);h(e.id),e.page&&O(e.page)}),[]),Object(a.useEffect)((function(){b&&function(e){re.apply(this,arguments)}({collectionID:b,query:JSON.parse(Q)})}),[b,Q]),Object(a.useEffect)((function(){b&&ne({collectionID:b,page:E,query:JSON.parse(Q),sort:JSON.parse(R)})}),[b,E,Q,R]),Object(a.useEffect)((function(){var e=function(e){"{"===e[0]&&(e=e.substring(1,e.length-1));var t=(e=e.replace(/ |'|"/g,"")).split(","),n={};return t.forEach((function(e){var t=e.split(":");if(!t[1])return"{}";n[t[0]]=t[1]})),JSON.stringify(n)}(q);$(e)}),[q]),Object(a.useEffect)((function(){var e=function(e){"{"===e[0]&&(e=e.substring(1,e.length-1));var t=(e=e.replace(/ |'|"/g,"")).split(","),n={};return t.forEach((function(e){var t=e.split(":");if(!t[1]||isNaN(t[1]))return"{}";n[t[0]]=parseInt(t[1])})),JSON.stringify(n)}(G);U(e)}),[G]),r.a.createElement(m.a,null,r.a.createElement("h3",null,b),r.a.createElement("div",{className:"hspread mb-25"},function(){if(c)return r.a.createElement("div",null,r.a.createElement(l.b,{to:"/database"},c),r.a.createElement("i",{className:"divider fas fa-chevron-right"}),r.a.createElement("span",{onClick:function(){return function(){return X.apply(this,arguments)}()},className:"synth-link"},b))}(),V()),r.a.createElement(A.a,{className:"mb-15"},r.a.createElement(L.a,{lg:6},r.a.createElement("div",{className:"hspread vcenter"},r.a.createElement("div",null,"Query:"),r.a.createElement("input",{className:"opt-input",type:"text",value:q,onChange:function(e){return M(e.target.value)}}))),r.a.createElement(L.a,{lg:6},r.a.createElement("div",{className:"hspread vcenter"},r.a.createElement("div",null,"Sort:"),r.a.createElement("input",{className:"opt-input",type:"text",value:G,onChange:function(e){return H(e.target.value)}})))),function(){if(C)return r.a.createElement("div",{className:"mb-25"},C.map((function(e,t){return r.a.createElement(W,{key:t,collectionID:b,data:e,refresh:Y})})))}(),r.a.createElement("div",{className:"right"},V(!0)));function V(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(g>1&&(!e||e&&C))return r.a.createElement("div",null,E>1?r.a.createElement("i",{onClick:function(){return O(E-1)},className:"nav-arrow fas fa-chevron-left"}):"",E+" of "+g,E<g?r.a.createElement("i",{onClick:function(){return O(E+1)},className:"nav-arrow fas fa-chevron-right"}):"")}function X(){return(X=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===E&&""===q&&""===G?ne({collectionID:b,page:1}):(O(1),M(""),H(""));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return ee.apply(this,arguments)}function ee(){return(ee=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ne({collectionID:b,page:E,query:JSON.parse(Q),sort:JSON.parse(R)});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,D();case 3:e.t1=e.sent.data,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(p.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(null),e.next=3,k(t);case 3:n=e.sent.data,I(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(p.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(null),e.next=3,S(t);case 3:n=e.sent.data,w(Math.ceil(n/10));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}};var _=function(){return r.a.createElement(l.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/database",component:z}),r.a.createElement(s.b,{path:"/collection",component:$}),r.a.createElement(s.a,{from:"/",to:"/database"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.2a23d2cc.chunk.js.map