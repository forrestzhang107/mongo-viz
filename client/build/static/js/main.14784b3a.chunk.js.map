{"version":3,"sources":["services.js","Database.js","Document.js","Components.js","Collection.js","App.js","serviceWorker.js","index.js"],"names":["axios","require","Request","uri","a","payload","post","JSON","stringify","DeleteDocument","DropCollection","CreateCollection","GetDocuments","modalStyle","content","top","left","right","bottom","transform","Modal","setAppElement","Database","props","useState","data","setData","localStorage","getItem","dbName","setDbName","showCreateModal","setShowCreateModal","showDropModal","setShowDropModal","create","setCreate","drop","setDrop","getData","useEffect","setItem","Container","className","onClick","isOpen","style","onRequestClose","onSubmit","evt","preventDefault","createCollection","value","onChange","target","type","dropCollection","map","obj","index","key","collectionID","history","push","count","formatBytes","size","avgObjSize","color","status","bytes","decimals","k","dm","sizes","i","Math","floor","log","parseFloat","pow","toFixed","ObjectToggle","open","setOpen","object","Array","isArray","keys","Object","empty","length","renderPair","active","charAt","isDatetimeObj","getType","moment","format","toString","Document","setActive","onMouseOver","onMouseLeave","deleteDocument","aria-hidden","objectID","_id","refresh","Breadcrumb","trail","title","path","to","fontWeight","Collection","setCollectionID","page","setPage","pageCount","setPageCount","query","setQuery","queryString","setQueryString","sort","setSort","sortString","setSortString","parse","qs","window","location","search","id","tup","split","e","parseInt","renderPageNav","Row","Col","lg","doc","softRefresh","onSetPage","update","results","ceil","App","component","from","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.14784b3a.chunk.js","sourcesContent":["const axios = require(\"axios\");\n\nexport default async function Request(uri, payload = {}) {\n  return await axios.post(\"/api\" + uri, JSON.stringify(payload));\n}\n\nexport async function DeleteDocument(payload) {\n  return await axios.post(\"/api/delete-document\", payload);\n}\n\nexport async function DropCollection(payload) {\n  return await axios.post(\"/api/drop-collection\", payload);\n}\n\nexport async function CreateCollection(payload) {\n  return await axios.post(\"/api/create-collection\", payload);\n}\n\nexport async function GetDatabaseInfo() {\n  return await axios.post(\"/api/get-database-info\");\n}\n\nexport async function GetDocuments(payload) {\n  return await axios.post(\"/api/get-documents/\" + JSON.stringify(payload));\n}\n\nexport async function GetDocumentCount(payload) {\n  return await axios.post(\"/api/get-document-count/\" + JSON.stringify(payload));\n}\n\nexport async function GetDatabaseID() {\n  return await axios.post(\"/api/get-database-id\");\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport Modal from \"react-modal\";\nimport Loader from \"react-loading\";\nimport Request, { CreateCollection, DropCollection } from \"./services\";\n\nconst modalStyle = {\n  content: {\n    top: \"33%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    transform: \"translate(-50%, -50%)\",\n  },\n};\n\nModal.setAppElement(\"#root\");\n\nfunction Database(props) {\n  const [data, setData] = useState(null);\n  const [dbName, setDbName] = useState(localStorage.getItem(\"dbName\") || \"\");\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showDropModal, setShowDropModal] = useState(false);\n  const [create, setCreate] = useState(\"\");\n  const [drop, setDrop] = useState(\"\");\n\n  useEffect(() => {\n    (async () => {\n      const { data } = await Request(\"/get-database-id\");\n      localStorage.setItem(\"dbName\", data);\n      setDbName(data);\n    })();\n  }, []);\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  async function getData() {\n    setData(null);\n    const { data } = await Request(\"/get-database-info\");\n    setData(data);\n  }\n\n  // JSX\n\n  return (\n    <Container>\n      <div className=\"card-max\">\n        <div className=\"db-header\">\n          {dbName && (\n            <>\n              <div className=\"db-title\">\n                <h3 className=\"mb-0\">{dbName}</h3>\n                <i className=\"fas fa-sync\" onClick={getData} />\n              </div>\n              <div>\n                {renderCreateCollection()}\n                {renderDropCollection()}\n              </div>\n            </>\n          )}\n        </div>\n        {renderData()}\n      </div>\n    </Container>\n  );\n\n  function renderCreateCollection() {\n    return (\n      <span>\n        <button\n          className=\"app-button\"\n          onClick={() => {\n            setCreate(\"\");\n            setShowCreateModal(true);\n          }}\n        >\n          New Collection\n        </button>\n        <Modal\n          isOpen={showCreateModal}\n          style={modalStyle}\n          onRequestClose={() => setShowCreateModal(false)}\n        >\n          <form\n            className=\"modal-form\"\n            onSubmit={(evt) => {\n              evt.preventDefault();\n              createCollection();\n            }}\n          >\n            New Collection:\n            <input\n              value={create}\n              onChange={(evt) => setCreate(evt.target.value)}\n            />\n            <button className=\"app-button\" type=\"submit\">\n              Submit\n            </button>\n            <button\n              className=\"app-button\"\n              onClick={(evt) => {\n                evt.preventDefault();\n                setShowCreateModal(false);\n              }}\n            >\n              Cancel\n            </button>\n          </form>\n        </Modal>\n      </span>\n    );\n  }\n\n  function renderDropCollection() {\n    return (\n      <span>\n        <button\n          className=\"app-button\"\n          onClick={() => {\n            setDrop(\"\");\n            setShowDropModal(true);\n          }}\n        >\n          Drop Collection\n        </button>\n        <Modal\n          isOpen={showDropModal}\n          style={modalStyle}\n          onRequestClose={() => setShowDropModal(false)}\n        >\n          <form\n            className=\"modal-form\"\n            onSubmit={(evt) => {\n              evt.preventDefault();\n              dropCollection();\n            }}\n          >\n            Drop Collection:\n            <input value={drop} onChange={(evt) => setDrop(evt.target.value)} />\n            <button className=\"app-button\" type=\"submit\">\n              Submit\n            </button>\n            <button\n              className=\"app-button\"\n              onClick={(evt) => {\n                evt.preventDefault();\n                setShowDropModal(false);\n              }}\n            >\n              Cancel\n            </button>\n          </form>\n        </Modal>\n      </span>\n    );\n  }\n\n  function renderData() {\n    if (data) {\n      return (\n        <table className=\"db-table\">\n          <thead>\n            <tr>\n              <th>Collection</th>\n              <th>Document Count</th>\n              <th>Collection Size</th>\n              <th>Average Size</th>\n            </tr>\n          </thead>\n          <tbody>\n            {data.map((obj, index) => (\n              <tr\n                key={index}\n                className=\"collection\"\n                onClick={() => toCollection(obj.collectionID)}\n              >\n                <td>{obj.collectionID}</td>\n                <td>{obj.count}</td>\n                <td>{formatBytes(obj.size)}</td>\n                <td>{formatBytes(obj.avgObjSize)}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      );\n    } else\n      return (\n        <div className=\"loader-wrapper\">\n          <Loader type=\"spin\" color=\"#00aaff\" />\n        </div>\n      );\n  }\n\n  // Helpers\n\n  // async function getDatabaseInfo() {\n  //   setData(null);\n  //   const { data } = await GetDatabaseInfo();\n  //   setData(data);\n  //   // return setData((await GetDatabaseInfo()).data);\n  // }\n\n  function toCollection(collectionID) {\n    props.history.push(\"/collection?id=\" + collectionID);\n  }\n\n  async function createCollection() {\n    const res = await CreateCollection({ collectionID: create });\n    if (res.status === 200) {\n      setShowCreateModal(false);\n      getData();\n    }\n  }\n\n  async function dropCollection() {\n    const res = await DropCollection({ collectionID: drop });\n    if (res.status === 200) {\n      setShowDropModal(false);\n      getData();\n    }\n  }\n}\n\nexport default Database;\n\nfunction formatBytes(bytes, decimals = 2) {\n  if (!bytes) return \"0 Bytes\";\n\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n}\n","import React, { useState } from \"react\";\nimport { DeleteDocument } from \"./services\";\nimport moment from \"moment-timezone\";\n\nfunction Document(props) {\n  const [active, setActive] = useState(false);\n\n  const obj = props.data;\n  const keys = Object.keys(obj);\n\n  return (\n    <div\n      className=\"document hspread\"\n      onMouseOver={() => setActive(true)}\n      onMouseLeave={() => setActive(false)}\n    >\n      <div className=\"fluid\">\n        {keys.map((key, index) => (\n          <span key={index}>{renderPair(key, obj[key], active)}</span>\n        ))}\n      </div>\n      {renderToolbar()}\n    </div>\n  );\n\n  function renderToolbar() {\n    return (\n      <div className={\"toolbar \" + (active ? \"\" : \"transparent\")}>\n        <i\n          onClick={() => deleteDocument()}\n          className=\"fa fa-times\"\n          aria-hidden=\"true\"\n        ></i>\n      </div>\n    );\n  }\n\n  // Helpers\n\n  async function deleteDocument() {\n    const status = (\n      await DeleteDocument({\n        collectionID: props.collectionID,\n        objectID: props.data._id,\n      })\n    ).status;\n    if (status === 200) props.refresh();\n  }\n}\n\nfunction ObjectToggle(props) {\n  const [open, setOpen] = useState(false);\n\n  const obj = props.object;\n  const type = Array.isArray(obj) ? \"Array\" : \"Object\";\n  const keys = Object.keys(obj);\n  const empty = keys.length === 0;\n\n  if (open) {\n    return (\n      <span>\n        <span className=\"toggle\" onClick={() => setOpen(false)}>\n          {type}\n        </span>\n        <div className=\"fluid\">\n          <div className=\"indent\">\n            {keys.map((key, index) => (\n              <span key={index}>{renderPair(key, obj[key], props.active)}</span>\n            ))}\n            {empty && <div>(empty)</div>}\n          </div>\n        </div>\n      </span>\n    );\n  } else\n    return (\n      <span onClick={() => setOpen(true)} className=\"toggle\">\n        {type}\n      </span>\n    );\n}\n\nfunction isDatetimeObj(value) {\n  if (!value) return false;\n  if (value.length !== 24) return false;\n  if (value.charAt(10) !== \"T\") return false;\n  if (value.charAt(23) !== \"Z\") return false;\n  return true;\n}\n\nfunction renderPair(key, value, active) {\n  if (value !== Object(value)) {\n    const type = getType(value);\n    if (type === \"datetime\") value = moment(value).format(\"LL LTS\");\n    return (\n      <div className=\"hspread\">\n        <div>\n          {key}: <span className={type}>{toString(value)}</span>\n        </div>\n        {active ? <div className=\"type\">{type}</div> : \"\"}\n      </div>\n    );\n  } else\n    return (\n      <div>\n        {key}: <ObjectToggle object={value} active={active} />\n      </div>\n    );\n}\n\nfunction getType(value) {\n  if (value == null) return \"null\";\n  if (isDatetimeObj(value)) return \"datetime\";\n  return typeof value;\n}\n\nfunction toString(value) {\n  if (value == null) return \"null\";\n  return value.toString();\n}\n\nexport default Document;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ReactLoading from \"react-loading\";\n\nexport function Loader(props) {\n  const { display } = props;\n  if (display)\n    return <ReactLoading className=\"loader\" type=\"cylon\" color=\"#00aaff\" />;\n  else return null;\n}\n\nexport function Breadcrumb(props) {\n  const { trail } = props;\n  return (\n    <div className=\"crumbs\">\n      {trail.map(([title, path], i) => (\n        <span key={title}>\n          {path ? (\n            <>\n              <Link to={path}>{title}</Link>\n              <i className=\"fas fa-chevron-right\" />\n            </>\n          ) : (\n            <span style={{ fontWeight: \"500\" }}>{title}</span>\n          )}\n        </span>\n      ))}\n    </div>\n  );\n}\n\nexport function BackNav(props) {\n  return (\n    <div className=\"back-nav\">\n      <i className=\"fas fa-chevron-left\" />\n      <Link to={props.to}>Back to {props.display}</Link>\n    </div>\n  );\n}\n\nexport function EditLink(props) {\n  return (\n    <Link to={props.to}>\n      <i className=\"far fa-edit\" />\n    </Link>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport Document from \"./Document\";\nimport qs from \"query-string\";\nimport Loader from \"react-loading\";\nimport { Breadcrumb } from \"./Components\";\nimport { GetDocuments } from \"./services\";\n\nfunction Collection(props) {\n  const dbName = localStorage.getItem(\"dbName\");\n\n  const [collectionID, setCollectionID] = useState(null);\n  const [page, setPage] = useState(1);\n  const [pageCount, setPageCount] = useState(null);\n  const [data, setData] = useState(null);\n  const [query, setQuery] = useState(\"\");\n  const [queryString, setQueryString] = useState(\"{}\");\n  const [sort, setSort] = useState(\"\");\n  const [sortString, setSortString] = useState(\"{}\");\n\n  useEffect(() => {\n    const parse = qs.parse(window.location.search);\n    setCollectionID(parse.id);\n  }, []);\n\n  useEffect(() => {\n    if (collectionID)\n      getData({\n        collectionID,\n        page,\n        query: JSON.parse(queryString),\n        sort: JSON.parse(sortString),\n      });\n  }, [collectionID, page, queryString, sortString]);\n\n  useEffect(() => {\n    const obj = {};\n    const tup = query.split(\"=\");\n    try {\n      if (tup[1]) obj[tup[0]] = JSON.parse(tup[1]);\n      setQueryString(JSON.stringify(obj));\n    } catch (e) {\n      setQueryString(\"{}\");\n    }\n  }, [query]);\n\n  useEffect(() => {\n    const obj = {};\n    const tup = sort.split(\"=\");\n    const value = tup[1];\n    if (value === \"1\" || value === \"-1\") {\n      obj[tup[0]] = parseInt(value);\n      setSortString(JSON.stringify(obj));\n    } else setSortString(\"{}\");\n  }, [sort]);\n\n  // JSX\n\n  return (\n    <Container>\n      <Breadcrumb trail={[[dbName, \"/auth/database\"], [collectionID]]} />\n      <div className=\"card-max\">\n        <div className=\"db-header\">\n          <div className=\"db-title\">\n            <h3 className=\"mb-0\">{collectionID}</h3>\n            <i className=\"fas fa-sync\" onClick={refresh} />\n          </div>\n          {renderPageNav()}\n        </div>\n        {renderOptions()}\n        {renderData()}\n        {data && <div className=\"bottom-nav\">{renderPageNav()}</div>}\n      </div>\n    </Container>\n  );\n\n  function renderData() {\n    if (data)\n      return (\n        <>\n          {data.map((doc, index) => (\n            <Document\n              key={index}\n              collectionID={collectionID}\n              data={doc}\n              refresh={softRefresh}\n            />\n          ))}\n        </>\n      );\n    else\n      return (\n        <div className=\"loader-wrapper\">\n          <Loader type=\"spin\" color=\"#00aaff\" />\n        </div>\n      );\n  }\n\n  function renderOptions() {\n    return (\n      <Row className=\"mb-16\">\n        <Col lg={6}>\n          <div className=\"hspread vcenter\">\n            <div>Query:</div>\n            <input\n              className=\"opt-input\"\n              value={query}\n              onChange={(evt) => setQuery(evt.target.value)}\n            />\n          </div>\n        </Col>\n        <Col lg={6}>\n          <div className=\"hspread vcenter\">\n            <div>Sort:</div>\n            <input\n              className=\"opt-input\"\n              value={sort}\n              onChange={(evt) => setSort(evt.target.value)}\n            />\n          </div>\n        </Col>\n      </Row>\n    );\n  }\n\n  function renderPageNav() {\n    if (pageCount > 1) {\n      return (\n        <div>\n          {page > 1 && (\n            <>\n              <i\n                onClick={() => onSetPage(1)}\n                className=\"nav-icon fas fa-angle-double-left\"\n              />\n              <i\n                onClick={() => onSetPage(page - 1)}\n                className=\"nav-arrow fas fa-angle-left\"\n              ></i>\n            </>\n          )}\n          Page {page + \" of \" + pageCount}\n          {page < pageCount && (\n            <>\n              <i\n                onClick={() => onSetPage(page + 1)}\n                className=\"nav-arrow fas fa-angle-right\"\n              ></i>\n              <i\n                onClick={() => onSetPage(pageCount)}\n                className=\"nav-icon fas fa-angle-double-right\"\n              />\n            </>\n          )}\n        </div>\n      );\n    }\n  }\n\n  // Helpers\n\n  function onSetPage(update) {\n    setData(null);\n    setPage(update);\n  }\n\n  async function refresh() {\n    if (page === 1 && query === \"\" && sort === \"\")\n      getData({ collectionID, page: 1 });\n    else {\n      setPage(1);\n      setQuery(\"\");\n      setSort(\"\");\n    }\n  }\n\n  async function softRefresh() {\n    getData({\n      collectionID,\n      page,\n      query: JSON.parse(queryString),\n      sort: JSON.parse(sortString),\n    });\n  }\n\n  async function getData(payload) {\n    setData(null);\n    const { page } = payload;\n    const { data } = await GetDocuments(payload);\n    const { results, count } = data;\n    setData(results);\n    setPageCount(Math.ceil(count / 10));\n    if (!results[0] && page > 1) setPage(page - 1);\n  }\n}\n\nexport default Collection;\n","import React from 'react';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom'\nimport Database from './Database'\nimport Collection from './Collection'\n\nfunction App() {\n\n  // JSX\n\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path='/database' component={ Database } />\n        <Route path='/collection' component={ Collection } />\n        <Redirect from='/' to='/database' />\n      </Switch>\n    </BrowserRouter>\n  )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}