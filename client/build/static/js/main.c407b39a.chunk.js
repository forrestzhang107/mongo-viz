(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{38:function(e,t,n){e.exports=n(88)},44:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),u=n.n(c),o=(n(43),n(44),n(14)),l=n(10),s=n(1),i=n.n(s),p=n(4),f=n(3),m=n(89),b=n(15),h=n.n(b),d=n(56);function v(e){return E.apply(this,arguments)}function E(){return(E=Object(p.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.post("/api/delete-document",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return j.apply(this,arguments)}function j(){return(j=Object(p.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.post("/api/drop-collection",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return y.apply(this,arguments)}function y(){return(y=Object(p.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.post("/api/create-collection",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return N.apply(this,arguments)}function N(){return(N=Object(p.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/api/get-database-info");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return x.apply(this,arguments)}function x(){return(x=Object(p.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/api/get-documents/"+JSON.stringify(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return C.apply(this,arguments)}function C(){return(C=Object(p.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/api/get-document-count/"+JSON.stringify(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return I.apply(this,arguments)}function I(){return(I=Object(p.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/api/get-server-config");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J={content:{top:"33%",left:"50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)"}};h.a.setAppElement("#root");var z=function(e){var t=Object(a.useState)(""),n=Object(f.a)(t,2),c=n[0],u=n[1],o=Object(a.useState)(null),l=Object(f.a)(o,2),s=l[0],b=l[1],d=Object(a.useState)(!1),v=Object(f.a)(d,2),E=v[0],j=v[1],y=Object(a.useState)(!1),N=Object(f.a)(y,2),k=N[0],x=N[1],S=Object(a.useState)(""),C=Object(f.a)(S,2),I=C[0],z=C[1],B=Object(a.useState)(""),q=Object(f.a)(B,2),A=q[0],W=q[1];return Object(a.useEffect)((function(){!function(){F.apply(this,arguments)}(),M()}),[]),r.a.createElement(m.a,null,r.a.createElement("h3",{className:"mb-25"},c),function(){if(s)return r.a.createElement("div",{className:"mb-15"},r.a.createElement("span",null,r.a.createElement("button",{onClick:function(){z(""),j(!0)}},"New Collection"),r.a.createElement(h.a,{isOpen:E,style:J},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){$.apply(this,arguments)}()}},"New Collection:",r.a.createElement("input",{value:I,onChange:function(e){return z(e.target.value)},className:"modal-input",type:"text"}),r.a.createElement("button",{type:"submit"},"Submit"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),j(!1)}},"Cancel")))),r.a.createElement("span",null,r.a.createElement("button",{onClick:function(){W(""),x(!0)}},"Drop Collection"),r.a.createElement(h.a,{isOpen:k,style:J},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){_.apply(this,arguments)}()}},"Drop Collection:",r.a.createElement("input",{value:A,onChange:function(e){return W(e.target.value)},className:"modal-input",type:"text"}),r.a.createElement("button",{type:"submit"},"Submit"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),x(!1)}},"Cancel")))))}(),function(){if(s)return r.a.createElement("table",{className:"db-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Collection"),r.a.createElement("th",null,"Count"),r.a.createElement("th",null,"Size"),r.a.createElement("th",null,"Average Size"))),r.a.createElement("tbody",null,s.map((function(t,n){return r.a.createElement("tr",{key:n,className:"collection",onClick:function(){return n=t.collectionID,void e.history.push("/collection/?id="+n);var n}},r.a.createElement("td",null,t.collectionID),r.a.createElement("td",null,t.count),r.a.createElement("td",null,t.size),r.a.createElement("td",null,t.avgObjSize))}))))}());function F(){return(F=Object(p.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,D();case 3:return e.t1=e.sent.data.database,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return Q.apply(this,arguments)}function Q(){return(Q=Object(p.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(null),e.t0=b,e.next=4,w();case 4:return e.t1=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(p.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g({collectionID:I});case 2:t=e.sent,console.log(t.status),200===t.status&&(j(!1),M());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(p.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({collectionID:A});case 2:200===e.sent.status&&(x(!1),M());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},B=n(90),q=n(91);var A=function e(t){var n=Object(a.useState)(!1),c=Object(f.a)(n,2),u=c[0],o=c[1],l=t.object,s=Object.keys(l);return u?r.a.createElement("span",null,r.a.createElement("span",{className:"toggle",onClick:function(){return o(!1)}},r.a.createElement("i",{className:"fas fa-angle-up"})),r.a.createElement("div",{className:"object-toggle"},s.map((function(t,n){return r.a.createElement("div",{key:n},t,": ",function(t){return function(e){return e!==Object(e)}(t)?t:r.a.createElement("div",{className:"object-toggle"},r.a.createElement(e,{object:t}))}(l[t]))})))):r.a.createElement("span",{onClick:function(){return o(!0)},className:"toggle"},r.a.createElement("i",{className:"fas fa-angle-down"}))};var W=function(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],u=n[1],o=e.data,l=Object.keys(o);return r.a.createElement("div",{className:"document hspread"},r.a.createElement("div",null,l.map((function(e,t){return r.a.createElement("div",{key:t},e,": ",function(e){return t=e,t!==Object(t)?e.toString():r.a.createElement(A,{object:e});var t}(o[e]))}))),r.a.createElement("div",{tabIndex:"0",className:"del-space",onFocus:function(){return u(!0)},onBlur:function(){return u(!1)}},function(){if(c)return r.a.createElement("div",{className:"right",onClick:function(){return function(){return s.apply(this,arguments)}()}},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}))}()));function s(){return(s=Object(p.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,v({collectionID:e.collectionID,objectID:e.data._id});case 3:200===t.sent.status&&e.refresh();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},F=n(34),M=n.n(F);var Q=function(e){var t=Object(a.useState)(null),n=Object(f.a)(t,2),c=n[0],u=n[1],l=Object(a.useState)(null),s=Object(f.a)(l,2),b=s[0],h=s[1],d=Object(a.useState)(1),v=Object(f.a)(d,2),E=v[0],O=v[1],j=Object(a.useState)(null),g=Object(f.a)(j,2),y=g[0],w=g[1],N=Object(a.useState)(null),x=Object(f.a)(N,2),C=x[0],I=x[1],J=Object(a.useState)(""),z=Object(f.a)(J,2),A=z[0],F=z[1],Q=Object(a.useState)("{}"),$=Object(f.a)(Q,2),_=$[0],G=$[1],H=Object(a.useState)(""),K=Object(f.a)(H,2),L=K[0],P=K[1],R=Object(a.useState)("{}"),T=Object(f.a)(R,2),U=T[0],V=T[1];return Object(a.useEffect)((function(){!function(){ee.apply(this,arguments)}();var e=M.a.parse(window.location.search);h(e.id),e.page&&O(e.page)}),[]),Object(a.useEffect)((function(){b&&function(e){ae.apply(this,arguments)}({collectionID:b,query:JSON.parse(_)})}),[b,_]),Object(a.useEffect)((function(){b&&te({collectionID:b,page:E,query:JSON.parse(_),sort:JSON.parse(U)})}),[b,E,_,U]),Object(a.useEffect)((function(){var e=function(e){"{"===e[0]&&(e=e.substring(1,e.length-1));var t=(e=e.replace(/ |'|"/g,"")).split(","),n={};return t.forEach((function(e){var t=e.split(":");if(!t[1])return"{}";n[t[0]]=t[1]})),JSON.stringify(n)}(A);G(e)}),[A]),Object(a.useEffect)((function(){var e=function(e){"{"===e[0]&&(e=e.substring(1,e.length-1));var t=(e=e.replace(/ |'|"/g,"")).split(","),n={};return t.forEach((function(e){var t=e.split(":");if(!t[1]||isNaN(t[1]))return"{}";n[t[0]]=parseInt(t[1])})),JSON.stringify(n)}(L);V(e)}),[L]),r.a.createElement(m.a,null,r.a.createElement("h3",null,b),r.a.createElement("div",{className:"hspread mb-25"},function(){if(c)return r.a.createElement("div",null,r.a.createElement(o.b,{to:"/database"},c),r.a.createElement("i",{className:"divider fas fa-chevron-right"}),r.a.createElement("span",{onClick:function(){return Y()},className:"synth-link"},b))}(),X()),r.a.createElement(B.a,{className:"mb-15"},r.a.createElement(q.a,{lg:6},r.a.createElement("div",{className:"hspread vcenter"},r.a.createElement("div",null,"Query:"),r.a.createElement("input",{className:"opt-input",type:"text",value:A,onChange:function(e){return F(e.target.value)}}))),r.a.createElement(q.a,{lg:6},r.a.createElement("div",{className:"hspread vcenter"},r.a.createElement("div",null,"Sort:"),r.a.createElement("input",{className:"opt-input",type:"text",value:L,onChange:function(e){return P(e.target.value)}})))),function(){if(C)return r.a.createElement("div",{className:"mb-25"},C.map((function(e,t){return r.a.createElement(W,{key:t,collectionID:b,data:e,refresh:Y})})))}(),r.a.createElement("div",{className:"right"},X(!0)));function X(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(y>1&&(!e||e&&C))return r.a.createElement("div",null,E>1?r.a.createElement("i",{onClick:function(){return O(E-1)},className:"nav-arrow fas fa-chevron-left"}):"",E+" of "+y,E<y?r.a.createElement("i",{onClick:function(){return O(E+1)},className:"nav-arrow fas fa-chevron-right"}):"")}function Y(){return Z.apply(this,arguments)}function Z(){return(Z=Object(p.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===E&&""===A&&""===L?te({collectionID:b,page:1}):(O(1),F(""),P(""));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(p.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,D();case 3:e.t1=e.sent.data.database,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(p.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(null),e.next=3,k(t);case 3:n=e.sent.data,I(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(p.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(null),e.next=3,S(t);case 3:n=e.sent.data,w(Math.ceil(n/10));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}};var $=function(){return r.a.createElement(o.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/database",component:z}),r.a.createElement(l.b,{path:"/collection",component:Q}),r.a.createElement(l.a,{from:"/",to:"/database"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.c407b39a.chunk.js.map