(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{42:function(e,t,a){e.exports=a(96)},48:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),u=(a(47),a(48),a(15)),s=a(10),o=a(1),i=a.n(o),m=a(4),p=a(3),f=a(97),b=a(16),E=a.n(b),d=a(12),v=a.n(d),h=a(61);function O(e){return y.apply(this,arguments)}function y(){return(y=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/api/delete-document",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return N.apply(this,arguments)}function N(){return(N=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/api/drop-collection",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return w.apply(this,arguments)}function w(){return(w=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/api/create-collection",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return S.apply(this,arguments)}function S(){return(S=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/api/get-database-info");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return x.apply(this,arguments)}function x(){return(x=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/api/get-documents/"+JSON.stringify(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D={content:{top:"33%",left:"50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)"}};E.a.setAppElement("#root");var B=function(e){var t=Object(n.useState)(null),a=Object(p.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!1),s=Object(p.a)(u,2),o=s[0],b=s[1],d=Object(n.useState)(!1),h=Object(p.a)(d,2),O=h[0],y=h[1],N=Object(n.useState)(""),w=Object(p.a)(N,2),S=w[0],C=w[1],x=Object(n.useState)(""),B=Object(p.a)(x,2),J=B[0],M=B[1];return Object(n.useEffect)((function(){A()}),[]),r.a.createElement(f.a,null,r.a.createElement("div",{className:"card-max"},r.a.createElement("div",{className:"db-header"},r.a.createElement("div",{className:"db-title"},r.a.createElement("h3",{className:"mb-0"},"ExpressoDB"),r.a.createElement("i",{className:"fas fa-sync",onClick:A})),r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("button",{className:"app-button",onClick:function(){C(""),b(!0)}},"New Collection"),r.a.createElement(E.a,{isOpen:o,style:D,onRequestClose:function(){return b(!1)}},r.a.createElement("form",{className:"modal-form",onSubmit:function(e){e.preventDefault(),function(){q.apply(this,arguments)}()}},"New Collection:",r.a.createElement("input",{value:S,onChange:function(e){return C(e.target.value)}}),r.a.createElement("button",{className:"app-button",type:"submit"},"Submit"),r.a.createElement("button",{className:"app-button",onClick:function(e){e.preventDefault(),b(!1)}},"Cancel")))),r.a.createElement("span",null,r.a.createElement("button",{className:"app-button",onClick:function(){M(""),y(!0)}},"Drop Collection"),r.a.createElement(E.a,{isOpen:O,style:D,onRequestClose:function(){return y(!1)}},r.a.createElement("form",{className:"modal-form",onSubmit:function(e){e.preventDefault(),function(){z.apply(this,arguments)}()}},"Drop Collection:",r.a.createElement("input",{value:J,onChange:function(e){return M(e.target.value)}}),r.a.createElement("button",{className:"app-button",type:"submit"},"Submit"),r.a.createElement("button",{className:"app-button",onClick:function(e){e.preventDefault(),y(!1)}},"Cancel")))))),c?r.a.createElement("table",{className:"db-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Collection"),r.a.createElement("th",null,"Document Count"),r.a.createElement("th",null,"Collection Size"),r.a.createElement("th",null,"Average Size"))),r.a.createElement("tbody",null,c.map((function(t,a){return r.a.createElement("tr",{key:a,className:"collection",onClick:function(){return a=t.collectionID,void e.history.push("/collection?id="+a);var a}},r.a.createElement("td",null,t.collectionID),r.a.createElement("td",null,t.count),r.a.createElement("td",null,I(t.size)),r.a.createElement("td",null,I(t.avgObjSize)))})))):r.a.createElement("div",{className:"loader-wrapper"},r.a.createElement(v.a,{type:"spin",color:"#00aaff"}))));function A(){return F.apply(this,arguments)}function F(){return(F=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(null),e.t0=l,e.next=4,k();case 4:return e.t1=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g({collectionID:S});case 2:200===e.sent.status&&(b(!1),A());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j({collectionID:J});case 2:200===e.sent.status&&(y(!1),A());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}};function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e)return"0 Bytes";var a=1024,n=t<0?0:t,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],c=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,c)).toFixed(n))+" "+r[c]}var J=a(98),M=a(99),A=a(37),F=a.n(A);function q(e){var t=Object(n.useState)(!1),a=Object(p.a)(t,2),c=a[0],l=a[1],u=e.object,s=Array.isArray(u)?"Array":"Object",o=Object.keys(u),i=0===o.length;return c?r.a.createElement("span",null,r.a.createElement("span",{className:"toggle",onClick:function(){return l(!1)}},s),r.a.createElement("div",{className:"fluid"},r.a.createElement("div",{className:"indent"},o.map((function(t,a){return r.a.createElement("span",{key:a},z(t,u[t],e.active))})),i&&r.a.createElement("div",null,"(empty)")))):r.a.createElement("span",{onClick:function(){return l(!0)},className:"toggle"},s)}function z(e,t,a){if(t!==Object(t)){var n=function(e){return null==e?"null":function(e){return!!e&&(24===e.length&&("T"===e.charAt(10)&&"Z"===e.charAt(23)))}(e)?"datetime":typeof e}(t);return"datetime"===n&&(t=F()(t).format("LL LTS")),r.a.createElement("div",{className:"hspread"},r.a.createElement("div",null,e,": ",r.a.createElement("span",{className:n},function(e){return null==e?"null":e.toString()}(t))),a?r.a.createElement("div",{className:"type"},n):"")}return r.a.createElement("div",null,e,": ",r.a.createElement(q,{object:t,active:a}))}var L=function(e){var t=Object(n.useState)(!1),a=Object(p.a)(t,2),c=a[0],l=a[1],u=e.data,s=Object.keys(u);return r.a.createElement("div",{className:"document hspread",onMouseOver:function(){return l(!0)},onMouseLeave:function(){return l(!1)}},r.a.createElement("div",{className:"fluid"},s.map((function(e,t){return r.a.createElement("span",{key:t},z(e,u[e],c))}))),r.a.createElement("div",{className:"toolbar "+(c?"":"transparent")},r.a.createElement("i",{onClick:function(){return function(){return o.apply(this,arguments)}()},className:"fa fa-times","aria-hidden":"true"})));function o(){return(o=Object(m.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O({collectionID:e.collectionID,objectID:e.data._id});case 2:200===t.sent.status&&e.refresh();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},T=a(38),P=a.n(T);function R(e){var t=e.trail;return r.a.createElement("div",{className:"crumbs"},t.map((function(e,t){var a=Object(p.a)(e,2),n=a[0],c=a[1];return r.a.createElement("span",{key:n},c?r.a.createElement(r.a.Fragment,null,r.a.createElement(u.b,{to:c},n),r.a.createElement("i",{className:"fas fa-chevron-right"})):r.a.createElement("span",{className:"active"},n))})))}var W=function(e){var t=Object(n.useState)(null),a=Object(p.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(1),s=Object(p.a)(u,2),o=s[0],b=s[1],E=Object(n.useState)(null),d=Object(p.a)(E,2),h=d[0],O=d[1],y=Object(n.useState)(null),j=Object(p.a)(y,2),N=j[0],g=j[1],w=Object(n.useState)(""),k=Object(p.a)(w,2),S=k[0],x=k[1],D=Object(n.useState)("{}"),B=Object(p.a)(D,2),I=B[0],A=B[1],F=Object(n.useState)(""),q=Object(p.a)(F,2),z=q[0],T=q[1],W=Object(n.useState)("{}"),Z=Object(p.a)(W,2),G=Z[0],K=Z[1];return Object(n.useEffect)((function(){var e=P.a.parse(window.location.search);l(e.id)}),[]),Object(n.useEffect)((function(){c&&U({collectionID:c,page:o,query:JSON.parse(I),sort:JSON.parse(G)})}),[c,o,I,G]),Object(n.useEffect)((function(){var e={},t=S.split("=");try{t[1]&&(e[t[0]]=JSON.parse(t[1])),A(JSON.stringify(e))}catch(a){A("{}")}}),[S]),Object(n.useEffect)((function(){var e={},t=z.split("="),a=t[1];"1"===a||"-1"===a?(e[t[0]]=parseInt(a),K(JSON.stringify(e))):K("{}")}),[z]),r.a.createElement(f.a,null,r.a.createElement(R,{trail:[["ExpressoDB","/auth/database"],[c]]}),r.a.createElement("div",{className:"card-max"},r.a.createElement("div",{className:"db-header"},r.a.createElement("div",{className:"db-title"},r.a.createElement("h3",{className:"mb-0"},c),r.a.createElement("i",{className:"fas fa-sync",onClick:function(){return $.apply(this,arguments)}})),Q()),r.a.createElement(J.a,{className:"mb-16"},r.a.createElement(M.a,{lg:6},r.a.createElement("div",{className:"hspread vcenter"},r.a.createElement("div",null,"Query:"),r.a.createElement("input",{className:"opt-input",value:S,onChange:function(e){return x(e.target.value)}}))),r.a.createElement(M.a,{lg:6},r.a.createElement("div",{className:"hspread vcenter"},r.a.createElement("div",null,"Sort:"),r.a.createElement("input",{className:"opt-input",value:z,onChange:function(e){return T(e.target.value)}})))),N?r.a.createElement(r.a.Fragment,null,N.map((function(e,t){return r.a.createElement(L,{key:t,collectionID:c,data:e,refresh:_})}))):r.a.createElement("div",{className:"loader-wrapper"},r.a.createElement(v.a,{type:"spin",color:"#00aaff"})),N&&r.a.createElement("div",{className:"bottom-nav"},Q())));function Q(){if(h>1)return r.a.createElement("div",null,o>1&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{onClick:function(){return Y(1)},className:"nav-icon fas fa-angle-double-left"}),r.a.createElement("i",{onClick:function(){return Y(o-1)},className:"nav-arrow fas fa-angle-left"})),"Page ",o+" of "+h,o<h&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{onClick:function(){return Y(o+1)},className:"nav-arrow fas fa-angle-right"}),r.a.createElement("i",{onClick:function(){return Y(h)},className:"nav-icon fas fa-angle-double-right"})))}function Y(e){g(null),b(e)}function $(){return($=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===o&&""===S&&""===z?U({collectionID:c,page:1}):(b(1),x(""),T(""));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return H.apply(this,arguments)}function H(){return(H=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U({collectionID:c,page:o,query:JSON.parse(I),sort:JSON.parse(G)});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return V.apply(this,arguments)}function V(){return(V=Object(m.a)(i.a.mark((function e(t){var a,n,r,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(null),a=t.page,e.next=4,C(t);case 4:n=e.sent,r=n.data,c=r.results,l=r.count,g(c),O(Math.ceil(l/10)),!c[0]&&a>1&&b(a-1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}};var Z=function(){return r.a.createElement(u.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/database",component:B}),r.a.createElement(s.b,{path:"/collection",component:W}),r.a.createElement(s.a,{from:"/",to:"/database"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[42,1,2]]]);
//# sourceMappingURL=main.da5825cf.chunk.js.map